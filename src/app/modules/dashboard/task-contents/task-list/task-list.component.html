<div class="content-box task-list">
  <!-- <div class="col-md-12"> -->
  <div *ngIf="!isEdit">
    <!-- <mat-progress-bar *ngIf="loading" mode="indeterminate" class="p-1"></mat-progress-bar> -->
    <form [formGroup]="projectForm">
      <div class="py-4 pl-5">
        <select formControlName="projectCode" (ngModelChange)="getData(projectForm.value)">
          <option>Select Project</option>
          <option *ngFor="let prj of projectDetails" [ngValue]="prj">
            {{ prj.projectCode }}
          </option>
        </select>
        <span class="pl-3">ProjectName :<b> {{projectName}}</b></span>
      </div>
    </form>

    <form [formGroup]="taskFormGroup" class="w-100" (ngSubmit)="onSubmit(taskFormGroup)">

    <table class="table table-hover">
      <thead>
        <tr>
          <th rowspan="2">S.N</th>
          <th rowspan="2" (click)="sort('taskName')">TaskName </th>
          <th rowspan="2" (click)="sort('taskCode')">TaskCode </th>
          <th rowspan="2" (click)="sort('startDate')">Start Date </th>
          <th class="date" rowspan="2" (click)="sort('endDate')">End Date </th>
          <th>Mon</th>
          <th>Tue</th>
          <th>Wed</th>
          <th>Thu</th>
          <th>Fri</th>
          <th>Sat</th>
          <th class="date">Sun</th>
          <th rowspan="2" (click)="sort('status')">Status</th>
          <th rowspan="2">Options</th>
        </tr>
        <tr>
          <th *ngFor="let tDate of week">{{ tDate }}</th>
        </tr>
      </thead>
      <tbody *ngIf="events">
        <tr
          *ngFor="let event of dArray | paginate: { itemsPerPage: size, currentPage: currentPage,  totalItems: totalElements }; let i = index">
          <td>{{i+1}}</td>
          <td>{{event.taskName}}</td>
          <td>{{event.taskCode}}</td>
          <td>{{event.startDate | date:'mediumDate' }}</td>
          <td>{{event.endDate | date:'mediumDate'}}</td>
          

            <td><input type="text" value="0" class="form-control form-control-sm" formControlName="mondayValue"></td>
            <td><input type="text" value="0" class="form-control form-control-sm" formControlName="tuesdayValue"></td>
            <td><input type="text" value="0" class="form-control form-control-sm" formControlName="wednesdayValue">
            </td>
            <td><input type="text" value="0" class="form-control form-control-sm" formControlName="thursdayValue">
            </td>
            <td><input type="text" value="0" class="form-control form-control-sm" formControlName="fridayValue"></td>
            <td><input type="text" value="0" class="form-control form-control-sm " formControlName="saturdayValue">
            </td>
            <td><input type="text" value="0" class="form-control form-control-sm" formControlName="sundayValue"></td>
        
  
          <!-- <td *ngFor="let task of durationArray">{{ task.timeTaken }}</td> -->

          <td>{{event.status}}</td>
          <td><a routerLink="/dashboard/tasks/details/{{event._id}}">
              <button type="button">View</button></a></td>
              <td>
                <button type="submit" [disabled]="taskFormGroup.invalid">Update</button>
              </td>
          
          <!-- <td><button (click)="selectEvent(event)" mat-raised-button>Edit</button></td> -->
        </tr>
       
        
      </tbody>
    </table>
  </form>
  
   

  </div>
  <app-events-manage *ngIf="isEdit"></app-events-manage>


</div>